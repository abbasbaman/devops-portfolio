{"kind":"Dashboard","metadata":{"name":"demo-app-prometheus","createdAt":"0001-01-01T00:00:00Z","updatedAt":"0001-01-01T00:00:00Z","version":0,"project":"Demo"},"spec":{"datasources":{"prom-incluster":{"default":false,"plugin":{"kind":"PrometheusDatasource","spec":{"proxy":{"kind":"HTTPProxy","spec":{"url":"http://kube-prometheus-stack-prometheus.kube-prometheus-stack.svc:9090"}}}}}},"variables":[{"kind":"ListVariable","spec":{"display":{"name":"Pod","hidden":false},"allowAllValue":false,"allowMultiple":false,"plugin":{"kind":"PrometheusLabelValuesVariable","spec":{"datasource":{"kind":"PrometheusDatasource","name":"prom-incluster"},"labelName":"pod","matchers":["{namespace=\"o11y-demo\"}"]}},"name":"pod"}}],"panels":{"0_0":{"kind":"Panel","spec":{"display":{"name":"Requests/sec by path"},"plugin":{"kind":"TimeSeriesChart","spec":{}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"datasource":{"kind":"PrometheusDatasource","name":"prom-incluster"},"query":"sum by (path) (rate(http_requests_total{namespace=\"o11y-demo\"}[5m]))"}}}}]}},"0_1":{"kind":"Panel","spec":{"display":{"name":"Latency p95"},"plugin":{"kind":"TimeSeriesChart","spec":{}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"datasource":{"kind":"PrometheusDatasource","name":"prom-incluster"},"query":"histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket{namespace=\"o11y-demo\"}[5m])) by (le))"}}}}]}},"0_2":{"kind":"Panel","spec":{"display":{"name":"Errors/sec (5xx)"},"plugin":{"kind":"TimeSeriesChart","spec":{}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"datasource":{"kind":"PrometheusDatasource","name":"prom-incluster"},"query":"sum by (path) (rate(http_requests_total{namespace=\"o11y-demo\", code=~\"5..\"}[5m]))"}}}}]}},"0_3":{"kind":"Panel","spec":{"display":{"name":"In-flight requests"},"plugin":{"kind":"TimeSeriesChart","spec":{}},"queries":[{"kind":"TimeSeriesQuery","spec":{"plugin":{"kind":"PrometheusTimeSeriesQuery","spec":{"datasource":{"kind":"PrometheusDatasource","name":"prom-incluster"},"query":"sum(inflight_requests{namespace=\"o11y-demo\"})"}}}}]}}},"layouts":[{"kind":"Grid","spec":{"display":{"title":"Traffic / Latency / Errors / Inflight"},"items":[{"x":0,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/0_0"}},{"x":12,"y":0,"width":12,"height":8,"content":{"$ref":"#/spec/panels/0_1"}},{"x":0,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/0_2"}},{"x":12,"y":8,"width":12,"height":8,"content":{"$ref":"#/spec/panels/0_3"}}]}}],"duration":"1h"}}